{% extends "base.html" %}
{% block title %}Welcome | Minipass{% endblock %}

{% block content %}
<div class="container-xl mt-4">

  {% if not activities %}
    <!-- 🧙 Setup Wizard if No Activities -->
    <div class="text-center mb-5">
      <h1 class="display-5 fw-bold"><i class="ti ti-wand"></i> Let's Get Started!</h1>
      <p class="text-muted">It looks like you haven't created any activities yet. Follow these simple steps to set up your app:</p>
    </div>

    <div class="row g-4 justify-content-center">
      <div class="col-md-6 col-lg-4">
        <div class="card card-link card-border shadow-sm text-center h-100">
          <div class="card-body">
            <i class="ti ti-calendar-event text-primary fs-1 mb-3"></i>
            <h3 class="card-title">Step 1: Create an Activity</h3>
            <p class="text-muted">Set up your first event, workshop, or program for users to join.</p>
            <a href="{{ url_for('create_activity') }}" class="btn btn-primary w-100">Create Activity</a>
          </div>
        </div>
      </div>

      <div class="col-md-6 col-lg-4">
        <div class="card card-link card-border shadow-sm text-center h-100">
          <div class="card-body">
            <i class="ti ti-user-plus text-green fs-1 mb-3"></i>
            <h3 class="card-title">Step 2: Invite Users</h3>
            <p class="text-muted">Let users sign up for your activities easily via online signup.</p>
            <a href="{{ url_for('dashboard') }}" class="btn btn-success w-100">Go to Dashboard</a>
          </div>
        </div>
      </div>

      <div class="col-md-6 col-lg-4">
        <div class="card card-link card-border shadow-sm text-center h-100">
          <div class="card-body">
            <i class="ti ti-ticket text-indigo fs-1 mb-3"></i>
            <h3 class="card-title">Step 3: Issue Passports</h3>
            <p class="text-muted">Create digital passports for users after signup or payment.</p>
            <a href="{{ url_for('create_passport') }}" class="btn btn-indigo w-100">Create Passport</a>
          </div>
        </div>
      </div>
    </div>

  {% else %}
    <!-- 🏡 Normal Dashboard if Activities Exist -->
    <div class="text-center mb-4">
      <h1 class="display-5 fw-bold"><i class="ti ti-ticket"></i> Welcome back!</h1>
      <p class="text-muted">Manage your activities, signups, and passports below.</p>
    </div>

    <div class="row g-3">
      <div class="col-md-4">
        <a href="{{ url_for('create_activity') }}" class="card card-link card-border shadow-sm h-100">
          <div class="card-body text-center">
            <i class="ti ti-calendar-event text-blue fs-1 mb-2"></i>
            <h3 class="card-title">Create Activity</h3>
            <p class="text-muted">Set up a new event or activity.</p>
          </div>
        </a>
      </div>

      <div class="col-md-4">
        <a href="{{ url_for('dashboard') }}" class="card card-link card-border shadow-sm h-100">
          <div class="card-body text-center">
            <i class="ti ti-user-plus text-green fs-1 mb-2"></i>
            <h3 class="card-title">View Signups</h3>
            <p class="text-muted">Manage users who signed up for your activities.</p>
          </div>
        </a>
      </div>

      <div class="col-md-4">
        <a href="{{ url_for('create_passport') }}" class="card card-link card-border shadow-sm h-100">
          <div class="card-body text-center">
            <i class="ti ti-ticket text-indigo fs-1 mb-2"></i>
            <h3 class="card-title">Create Passport</h3>
            <p class="text-muted">Issue a digital passport manually to a user.</p>
          </div>
        </a>
      </div>
    </div>
  {% endif %}

</div>
{% endblock %}
